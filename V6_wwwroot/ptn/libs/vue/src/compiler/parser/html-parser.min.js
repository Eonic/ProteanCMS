/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/vue@2.6.14/src/compiler/parser/html-parser.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
 * HTML Parser By John Resig (ejohn.org)
 * Modified by Juriy "kangax" Zaytsev
 * Original code by Erik Arvidsson (MPL-1.1 OR Apache-2.0 OR GPL-2.0-or-later)
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 */
import{makeMap,no}from"shared/util";import{isNonPhrasingTag}from"web/compiler/util";import{unicodeRegExp}from"core/util/lang";const attribute=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,dynamicArgAttribute=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ncname=`[a-zA-Z_][\\-\\.0-9_a-zA-Z${unicodeRegExp.source}]*`,qnameCapture=`((?:${ncname}\\:)?${ncname})`,startTagOpen=new RegExp("^<"+qnameCapture),startTagClose=/^\s*(\/?)>/,endTag=new RegExp(`^<\\/${qnameCapture}[^>]*>`),doctype=/^<!DOCTYPE [^>]+>/i,comment=/^<!\--/,conditionalComment=/^<!\[/;export const isPlainTextElement=makeMap("script,style,textarea",!0);const reCache={},decodingMap={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},encodedAttr=/&(?:lt|gt|quot|amp|#39);/g,encodedAttrWithNewLines=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,isIgnoreNewlineTag=makeMap("pre,textarea",!0),shouldIgnoreFirstNewline=(t,e)=>t&&isIgnoreNewlineTag(t)&&"\n"===e[0];function decodeAttr(t,e){const n=e?encodedAttrWithNewLines:encodedAttr;return t.replace(n,(t=>decodingMap[t]))}export function parseHTML(t,e){const n=[],a=e.expectHTML,s=e.isUnaryTag||no,r=e.canBeLeftOpenTag||no;let o,i,c=0;for(;t;){if(o=t,i&&isPlainTextElement(i)){let n=0;const a=i.toLowerCase(),s=reCache[a]||(reCache[a]=new RegExp("([\\s\\S]*?)(</"+a+"[^>]*>)","i")),r=t.replace(s,(function(t,s,r){return n=r.length,isPlainTextElement(a)||"noscript"===a||(s=s.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),shouldIgnoreFirstNewline(a,s)&&(s=s.slice(1)),e.chars&&e.chars(s),""}));c+=t.length-r.length,t=r,m(a,c-n,c)}else{let n,a,s,r=t.indexOf("<");if(0===r){if(comment.test(t)){const n=t.indexOf("--\x3e");if(n>=0){e.shouldKeepComment&&e.comment(t.substring(4,n),c,c+n+3),l(n+3);continue}}if(conditionalComment.test(t)){const e=t.indexOf("]>");if(e>=0){l(e+2);continue}}const n=t.match(doctype);if(n){l(n[0].length);continue}const a=t.match(endTag);if(a){const t=c;l(a[0].length),m(a[1],t,c);continue}const s=g();if(s){d(s),shouldIgnoreFirstNewline(s.tagName,t)&&l(1);continue}}if(r>=0){for(a=t.slice(r);!(endTag.test(a)||startTagOpen.test(a)||comment.test(a)||conditionalComment.test(a)||(s=a.indexOf("<",1),s<0));)r+=s,a=t.slice(r);n=t.substring(0,r)}r<0&&(n=t),n&&l(n.length),e.chars&&n&&e.chars(n,c-n.length,c)}if(t===o){e.chars&&e.chars(t),"production"!==process.env.NODE_ENV&&!n.length&&e.warn&&e.warn(`Mal-formatted tag at end of template: "${t}"`,{start:c+t.length});break}}function l(e){c+=e,t=t.substring(e)}function g(){const e=t.match(startTagOpen);if(e){const n={tagName:e[1],attrs:[],start:c};let a,s;for(l(e[0].length);!(a=t.match(startTagClose))&&(s=t.match(dynamicArgAttribute)||t.match(attribute));)s.start=c,l(s[0].length),s.end=c,n.attrs.push(s);if(a)return n.unarySlash=a[1],l(a[0].length),n.end=c,n}}function d(t){const o=t.tagName,c=t.unarySlash;a&&("p"===i&&isNonPhrasingTag(o)&&m(i),r(o)&&i===o&&m(o));const l=s(o)||!!c,g=t.attrs.length,d=new Array(g);for(let n=0;n<g;n++){const a=t.attrs[n],s=a[3]||a[4]||a[5]||"",r="a"===o&&"href"===a[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;d[n]={name:a[1],value:decodeAttr(s,r)},"production"!==process.env.NODE_ENV&&e.outputSourceRange&&(d[n].start=a.start+a[0].match(/^\s*/).length,d[n].end=a.end)}l||(n.push({tag:o,lowerCasedTag:o.toLowerCase(),attrs:d,start:t.start,end:t.end}),i=o),e.start&&e.start(o,d,l,t.start,t.end)}function m(t,a,s){let r,o;if(null==a&&(a=c),null==s&&(s=c),t)for(o=t.toLowerCase(),r=n.length-1;r>=0&&n[r].lowerCasedTag!==o;r--);else r=0;if(r>=0){for(let o=n.length-1;o>=r;o--)"production"!==process.env.NODE_ENV&&(o>r||!t)&&e.warn&&e.warn(`tag <${n[o].tag}> has no matching end tag.`,{start:n[o].start,end:n[o].end}),e.end&&e.end(n[o].tag,a,s);n.length=r,i=r&&n[r-1].tag}else"br"===o?e.start&&e.start(t,[],!0,a,s):"p"===o&&(e.start&&e.start(t,[],!1,a,s),e.end&&e.end(t,a,s))}m()}
//# sourceMappingURL=/sm/a290b4f1baf5ef4ecd781cd53f0d93c6b9c612825bafb51b92918c9a2e1b61ed.map