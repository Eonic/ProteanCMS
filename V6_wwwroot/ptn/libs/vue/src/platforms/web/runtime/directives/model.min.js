/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/vue@2.6.14/src/platforms/web/runtime/directives/model.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{isTextInputType}from"web/util/element";import{looseEqual,looseIndexOf}from"shared/util";import{mergeVNodeHook}from"core/vdom/helpers/index";import{warn,isIE9,isIE,isEdge}from"core/util/index";isIE9&&document.addEventListener("selectionchange",(()=>{const e=document.activeElement;e&&e.vmodel&&trigger(e,"input")}));const directive={inserted(e,t,o,n){"select"===o.tag?(n.elm&&!n.elm._vOptions?mergeVNodeHook(o,"postpatch",(()=>{directive.componentUpdated(e,t,o)})):setSelected(e,t,o.context),e._vOptions=[].map.call(e.options,getValue)):("textarea"===o.tag||isTextInputType(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",onCompositionStart),e.addEventListener("compositionend",onCompositionEnd),e.addEventListener("change",onCompositionEnd),isIE9&&(e.vmodel=!0)))},componentUpdated(e,t,o){if("select"===o.tag){setSelected(e,t,o.context);const n=e._vOptions,i=e._vOptions=[].map.call(e.options,getValue);if(i.some(((e,t)=>!looseEqual(e,n[t])))){(e.multiple?t.value.some((e=>hasNoMatchingOption(e,i))):t.value!==t.oldValue&&hasNoMatchingOption(t.value,i))&&trigger(e,"change")}}}};function setSelected(e,t,o){actuallySetSelected(e,t,o),(isIE||isEdge)&&setTimeout((()=>{actuallySetSelected(e,t,o)}),0)}function actuallySetSelected(e,t,o){const n=t.value,i=e.multiple;if(i&&!Array.isArray(n))return void("production"!==process.env.NODE_ENV&&warn(`<select multiple v-model="${t.expression}"> expects an Array value for its binding, but got `+Object.prototype.toString.call(n).slice(8,-1),o));let s,l;for(let t=0,o=e.options.length;t<o;t++)if(l=e.options[t],i)s=looseIndexOf(n,getValue(l))>-1,l.selected!==s&&(l.selected=s);else if(looseEqual(getValue(l),n))return void(e.selectedIndex!==t&&(e.selectedIndex=t));i||(e.selectedIndex=-1)}function hasNoMatchingOption(e,t){return t.every((t=>!looseEqual(t,e)))}function getValue(e){return"_value"in e?e._value:e.value}function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){e.target.composing&&(e.target.composing=!1,trigger(e.target,"input"))}function trigger(e,t){const o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}export default directive;
//# sourceMappingURL=/sm/5dd5d2885ffdc6d0ce2a4e46b42fea4046bcc7cce8001d732daeff62a58676e4.map