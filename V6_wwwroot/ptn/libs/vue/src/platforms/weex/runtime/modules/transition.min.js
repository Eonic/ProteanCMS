/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/vue@2.6.14/src/platforms/weex/runtime/modules/transition.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{warn}from"core/util/debug";import{extend,once,noop}from"shared/util";import{activeInstance}from"core/instance/lifecycle";import{resolveTransition}from"web/runtime/transition-util";export default{create:enter,activate:enter,remove:leave};function enter(e,t){const n=t.elm;n._leaveCb&&(n._leaveCb.cancelled=!0,n._leaveCb());const a=resolveTransition(t.data.transition);if(!a)return;if(n._enterCb)return;const{enterClass:r,enterToClass:o,enterActiveClass:i,appearClass:l,appearToClass:s,appearActiveClass:c,beforeEnter:d,enter:p,afterEnter:u,enterCancelled:f,beforeAppear:v,appear:C,afterAppear:g,appearCancelled:y}=a;let _=activeInstance,b=activeInstance.$vnode;for(;b&&b.parent;)b=b.parent,_=b.context;const m=!_._isMounted||!t.isRootInsert;if(m&&!C&&""!==C)return;const N=m?l:r,T=m?s:o,x=m?c:i,I=m&&v||d,S=m&&"function"==typeof C?C:p,h=m&&g||u,A=m&&y||f,$=S&&(S._length||S.length)>1,O=t.context.$options.style||{},E=O[N],w=O["@TRANSITION"]&&O["@TRANSITION"][x]||{},R=getEnterTargetState(n,O,N,T,x),k=Object.keys(R).length>0,F=n._enterCb=once((()=>{F.cancelled?A&&A(n):h&&h(n),n._enterCb=null}));if(setTimeout((()=>{const e=n.parentNode,a=e&&e._pending&&e._pending[t.key];if(a&&a.context===t.context&&a.tag===t.tag&&a.elm._leaveCb&&a.elm._leaveCb(),S&&S(n,F),k){t.context.$requireWeexModule("animation").transition(n.ref,{styles:R,duration:w.duration||0,delay:w.delay||0,timingFunction:w.timingFunction||"linear"},$?noop:F)}else $||F()}),16),I&&I(n),E)if("function"==typeof n.setStyles)n.setStyles(E);else for(const e in E)n.setStyle(e,E[e]);k||$||F()}function leave(e,t){const n=e.elm;n._enterCb&&(n._enterCb.cancelled=!0,n._enterCb());const a=resolveTransition(e.data.transition);if(!a)return t();if(n._leaveCb)return;const{leaveClass:r,leaveToClass:o,leaveActiveClass:i,beforeLeave:l,leave:s,afterLeave:c,leaveCancelled:d,delayLeave:p}=a,u=s&&(s._length||s.length)>1,f=e.context.$options.style||{},v=f[r],C=f[o]||f[i],g=f["@TRANSITION"]&&f["@TRANSITION"][i]||{},y=n._leaveCb=once((()=>{n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y.cancelled?d&&d(n):(t(),c&&c(n)),n._leaveCb=null}));function _(){const t=e.context.$requireWeexModule("animation");function a(){t.transition(n.ref,{styles:C,duration:g.duration||0,delay:g.delay||0,timingFunction:g.timingFunction||"linear"},u?noop:y)}y.cancelled||(e.data.show||((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),l&&l(n),v?t.transition(n.ref,{styles:v},a):a(),s&&s(n,y),C||u||y())}p?p(_):_()}function getEnterTargetState(e,t,n,a,r){const o={},i=t[n],l=t[a],s=t[r];if(i)for(const t in i)o[t]=e.style[t],"production"===process.env.NODE_ENV||null!=o[t]||s&&null!=s[t]||l&&null!=l[t]||warn(`transition property "${t}" is declared in enter starting class (.${n}), but not declared anywhere in enter ending class (.${a}), enter active cass (.${r}) or the element's default styling. Note in Weex, CSS properties need explicit values to be transitionable.`);if(s)for(const e in s)0!==e.indexOf("transition")&&(o[e]=s[e]);return l&&extend(o,l),o}
//# sourceMappingURL=/sm/10235c3946da94d349c535d13b4d59f4db2ed3cc5144cc5bdc6c0099de85ed60.map