/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/bs5-lightbox@1.7.7/dist/bootstrap/carousel.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const index_1=require("bootstrap/js/src/util/index"),event_handler_1=__importDefault(require("bootstrap/js/src/dom/event-handler")),manipulator_1=__importDefault(require("bootstrap/js/src/dom/manipulator")),selector_engine_1=__importDefault(require("bootstrap/js/src/dom/selector-engine")),base_component_1=__importDefault(require("bootstrap/js/src/base-component")),NAME="carousel",DATA_KEY="bs.carousel",EVENT_KEY=".bs.carousel",ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,SWIPE_THRESHOLD=40,Default={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},DefaultType={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",KEY_TO_DIRECTION={ArrowLeft:DIRECTION_RIGHT,ArrowRight:DIRECTION_LEFT},EVENT_SLIDE="slide.bs.carousel",EVENT_SLID="slid.bs.carousel",EVENT_KEYDOWN="keydown.bs.carousel",EVENT_MOUSEENTER="mouseenter.bs.carousel",EVENT_MOUSELEAVE="mouseleave.bs.carousel",EVENT_TOUCHSTART="touchstart.bs.carousel",EVENT_TOUCHMOVE="touchmove.bs.carousel",EVENT_TOUCHEND="touchend.bs.carousel",EVENT_POINTERDOWN="pointerdown.bs.carousel",EVENT_POINTERUP="pointerup.bs.carousel",EVENT_DRAG_START="dragstart.bs.carousel",CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",CLASS_NAME_POINTER_EVENT="pointer-event",SELECTOR_ACTIVE=".active",SELECTOR_ACTIVE_ITEM=".active.carousel-item",SELECTOR_ITEM=".carousel-item",SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_NEXT_PREV=".carousel-item-next, .carousel-item-prev",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_INDICATOR="[data-bs-target]",POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen";class Carousel extends base_component_1.default{constructor(e,t){super(e),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._indicatorsElement=selector_engine_1.default.findOne(SELECTOR_INDICATORS,this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Default}static get NAME(){return NAME}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&(0,index_1.isVisible)(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(e){e||(this._isPaused=!0),selector_engine_1.default.findOne(SELECTOR_NEXT_PREV,this._element)&&((0,index_1.triggerTransitionEnd)(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(e){this._activeElement=selector_engine_1.default.findOne(SELECTOR_ACTIVE_ITEM,this._element);const t=this._getItemIndex(this._activeElement);if(e>this._items.length-1||e<0)return;if(this._isSliding)return void event_handler_1.default.one(this._element,EVENT_SLID,(()=>this.to(e)));if(t===e)return this.pause(),void this.cycle();const i=e>t?ORDER_NEXT:ORDER_PREV;this._slide(i,this._items[e])}_getConfig(e){return e=Object.assign(Object.assign(Object.assign({},Default),manipulator_1.default.getDataAttributes(this._element)),"object"==typeof e?e:{}),(0,index_1.typeCheckConfig)(NAME,e,DefaultType),e}_handleSwipe(){const e=Math.abs(this.touchDeltaX);if(e<=40)return;const t=e/this.touchDeltaX;this.touchDeltaX=0,t&&this._slide(t>0?DIRECTION_RIGHT:DIRECTION_LEFT)}_addEventListeners(){this._config.keyboard&&event_handler_1.default.on(this._element,EVENT_KEYDOWN,(e=>this._keydown(e))),"hover"===this._config.pause&&(event_handler_1.default.on(this._element,EVENT_MOUSEENTER,(e=>this.pause(e))),event_handler_1.default.on(this._element,EVENT_MOUSELEAVE,(e=>this.cycle(e)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),event_handler_1.default.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((e=>{this[e]=null}))}_addTouchEventListeners(){const e=e=>this._pointerEvent&&("pen"===e.pointerType||"touch"===e.pointerType),t=t=>{e(t)?this.touchStartX=t.clientX:this._pointerEvent||(this.touchStartX=t.touches[0].clientX)},i=e=>{this.touchDeltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this.touchStartX},s=t=>{e(t)&&(this.touchDeltaX=t.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((e=>this.cycle(e)),500+this._config.interval))};selector_engine_1.default.find(SELECTOR_ITEM_IMG,this._element).forEach((e=>{event_handler_1.default.on(e,EVENT_DRAG_START,(e=>e.preventDefault()))})),this._pointerEvent?(event_handler_1.default.on(this._element,EVENT_POINTERDOWN,(e=>t(e))),event_handler_1.default.on(this._element,EVENT_POINTERUP,(e=>s(e))),this._element.classList.add("pointer-event")):(event_handler_1.default.on(this._element,EVENT_TOUCHSTART,(e=>t(e))),event_handler_1.default.on(this._element,EVENT_TOUCHMOVE,(e=>i(e))),event_handler_1.default.on(this._element,EVENT_TOUCHEND,(e=>s(e))))}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=KEY_TO_DIRECTION[e.key];t&&(e.preventDefault(),this._slide(t))}_getItemIndex(e){return this._items=e&&e.parentNode?selector_engine_1.default.find(SELECTOR_ITEM,e.parentNode):[],this._items.indexOf(e)}_getItemByOrder(e,t){const i=e===ORDER_NEXT;return(0,index_1.getNextActiveElement)(this._items,t,i,this._config.wrap)}_triggerSlideEvent(e,t){const i=this._getItemIndex(e),s=this._getItemIndex(selector_engine_1.default.findOne(SELECTOR_ACTIVE_ITEM,this._element));return event_handler_1.default.trigger(this._element,EVENT_SLIDE,{relatedTarget:e,direction:t,from:s,to:i})}_setActiveIndicatorElement(e){if(this._indicatorsElement){const t=selector_engine_1.default.findOne(".active",this._indicatorsElement);t.classList.remove("active"),t.removeAttribute("aria-current");const i=selector_engine_1.default.find("[data-bs-target]",this._indicatorsElement);for(let t=0;t<i.length;t++)if(Number.parseInt(i[t].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(e)){i[t].classList.add("active"),i[t].setAttribute("aria-current","true");break}}}_updateInterval(){const e=this._activeElement||selector_engine_1.default.findOne(SELECTOR_ACTIVE_ITEM,this._element);if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);t?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=t):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(e,t){const i=this._directionToOrder(e),s=selector_engine_1.default.findOne(SELECTOR_ACTIVE_ITEM,this._element),n=this._getItemIndex(s),r=t||this._getItemByOrder(i,s),_=this._getItemIndex(r),a=Boolean(this._interval),o=i===ORDER_NEXT,l=o?CLASS_NAME_START:CLASS_NAME_END,E=o?CLASS_NAME_NEXT:CLASS_NAME_PREV,c=this._orderToDirection(i);if(r&&r.classList.contains("active"))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(r,c).defaultPrevented)return;if(!s||!r)return;this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(r),this._activeElement=r;const u=()=>{event_handler_1.default.trigger(this._element,EVENT_SLID,{relatedTarget:r,direction:c,from:n,to:_})};if(this._element.classList.contains("slide")){r.classList.add(E),(0,index_1.reflow)(r),s.classList.add(l),r.classList.add(l);const e=()=>{r.classList.remove(l,E),r.classList.add("active"),s.classList.remove("active",E,l),this._isSliding=!1,setTimeout(u,0)};this._queueCallback(e,s,!0)}else s.classList.remove("active"),r.classList.add("active"),this._isSliding=!1,u();a&&this.cycle()}_directionToOrder(e){return[DIRECTION_RIGHT,DIRECTION_LEFT].includes(e)?(0,index_1.isRTL)()?e===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:e===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV:e}_orderToDirection(e){return[ORDER_NEXT,ORDER_PREV].includes(e)?(0,index_1.isRTL)()?e===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:e===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT:e}static carouselInterface(e,t){const i=Carousel.getOrCreateInstance(e,t);let{_config:s}=i;"object"==typeof t&&(s=Object.assign(Object.assign({},s),t));const n="string"==typeof t?t:s.slide;if("number"==typeof t)i.to(t);else if("string"==typeof n){if(void 0===i[n])throw new TypeError(`No method named "${n}"`);i[n]()}else s.interval&&s.ride&&(i.pause(),i.cycle())}static jQueryInterface(e){return this.each((function(){Carousel.carouselInterface(this,e)}))}static dataApiClickHandler(e){let t=(0,index_1.getElementFromSelector)(this);if(!t||!t.classList.contains("carousel"))return;const i=Object.assign(Object.assign({},manipulator_1.default.getDataAttributes(t)),manipulator_1.default.getDataAttributes(this));console.log(i);const s=this.getAttribute("data-bs-slide-to");s&&(i.interval=!1),Carousel.carouselInterface(t,i),s&&Carousel.getInstance(t).to(s),e.preventDefault()}}exports.default=Carousel;
//# sourceMappingURL=/sm/70b41b50a5c60bbb3b94f054d63c8935e0e877ccb0c5b4e52cfde668e5b976b5.map