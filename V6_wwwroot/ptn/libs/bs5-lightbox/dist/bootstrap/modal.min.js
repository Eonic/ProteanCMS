/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/bs5-lightbox@1.7.7/dist/bootstrap/modal.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const index_1=require("bootstrap/js/src/util/index"),event_handler_1=__importDefault(require("bootstrap/js/src/dom/event-handler")),manipulator_1=__importDefault(require("bootstrap/js/src/dom/manipulator")),selector_engine_1=__importDefault(require("bootstrap/js/src/dom/selector-engine")),scrollbar_1=__importDefault(require("bootstrap/js/src/util/scrollbar")),base_component_1=__importDefault(require("bootstrap/js/src/base-component")),backdrop_1=__importDefault(require("bootstrap/js/src/util/backdrop")),focustrap_1=__importDefault(require("bootstrap/js/src/util/focustrap")),NAME="modal",DATA_KEY="bs.modal",EVENT_KEY=".bs.modal",ESCAPE_KEY="Escape",Default={backdrop:!0,keyboard:!0,focus:!0},DefaultType={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},EVENT_HIDE="hide.bs.modal",EVENT_HIDE_PREVENTED="hidePrevented.bs.modal",EVENT_HIDDEN="hidden.bs.modal",EVENT_SHOW="show.bs.modal",EVENT_SHOWN="shown.bs.modal",EVENT_RESIZE="resize.bs.modal",EVENT_CLICK_DISMISS="click.dismiss.bs.modal",EVENT_KEYDOWN_DISMISS="keydown.dismiss.bs.modal",EVENT_MOUSEUP_DISMISS="mouseup.dismiss.bs.modal",EVENT_MOUSEDOWN_DISMISS="mousedown.dismiss.bs.modal",CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE="fade",CLASS_NAME_SHOW="show",CLASS_NAME_STATIC="modal-static",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body";class Modal extends base_component_1.default{constructor(e,t){super(e),this._config=this._getConfig(t),this._dialog=selector_engine_1.default.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new scrollbar_1.default}static get Default(){return Default}static get NAME(){return NAME}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;event_handler_1.default.trigger(this._element,EVENT_SHOW,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add("modal-open"),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),event_handler_1.default.on(this._dialog,EVENT_MOUSEDOWN_DISMISS,(()=>{event_handler_1.default.one(this._element,EVENT_MOUSEUP_DISMISS,(e=>{e.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;if(event_handler_1.default.trigger(this._element,EVENT_HIDE).defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),event_handler_1.default.off(this._element,EVENT_CLICK_DISMISS),event_handler_1.default.off(this._dialog,EVENT_MOUSEDOWN_DISMISS),this._queueCallback((()=>this._hideModal()),this._element,e)}dispose(){[window,this._dialog].forEach((e=>event_handler_1.default.off(e,EVENT_KEY))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new backdrop_1.default({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new focustrap_1.default({trapElement:this._element})}_getConfig(e){return e=Object.assign(Object.assign(Object.assign({},Default),manipulator_1.default.getDataAttributes(this._element)),"object"==typeof e?e:{}),(0,index_1.typeCheckConfig)(NAME,e,DefaultType),e}_showElement(e){const t=this._isAnimated(),i=selector_engine_1.default.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,i&&(i.scrollTop=0),t&&(0,index_1.reflow)(this._element),this._element.classList.add("show");this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,event_handler_1.default.trigger(this._element,EVENT_SHOWN,{relatedTarget:e})}),this._dialog,t)}_setEscapeEvent(){this._isShown?event_handler_1.default.on(this._element,EVENT_KEYDOWN_DISMISS,(e=>{this._config.keyboard&&"Escape"===e.key?(e.preventDefault(),this.hide()):this._config.keyboard||"Escape"!==e.key||this._triggerBackdropTransition()})):event_handler_1.default.off(this._element,EVENT_KEYDOWN_DISMISS)}_setResizeEvent(){this._isShown?event_handler_1.default.on(window,EVENT_RESIZE,(()=>this._adjustDialog())):event_handler_1.default.off(window,EVENT_RESIZE)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove("modal-open"),this._resetAdjustments(),this._scrollBar.reset(),event_handler_1.default.trigger(this._element,EVENT_HIDDEN)}))}_showBackdrop(e){event_handler_1.default.on(this._element,EVENT_CLICK_DISMISS,(e=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(e)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(event_handler_1.default.trigger(this._element,EVENT_HIDE_PREVENTED).defaultPrevented)return;const{classList:e,scrollHeight:t,style:i}=this._element,s=t>document.documentElement.clientHeight;!s&&"hidden"===i.overflowY||e.contains("modal-static")||(s||(i.overflowY="hidden"),e.add("modal-static"),this._queueCallback((()=>{e.remove("modal-static"),s||this._queueCallback((()=>{i.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;(!i&&e&&!(0,index_1.isRTL)()||i&&!e&&(0,index_1.isRTL)())&&(this._element.style.paddingLeft=`${t}px`),(i&&!e&&!(0,index_1.isRTL)()||!i&&e&&(0,index_1.isRTL)())&&(this._element.style.paddingRight=`${t}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const i=Modal.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}}))}}exports.default=Modal;
//# sourceMappingURL=/sm/d8ae3cbed804ebc2a02c3bdb186ff7c14a1b976ca136b2a4124b18051f6185ec.map