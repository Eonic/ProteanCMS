/**
 * Minified by jsDelivr using Terser v5.10.0.
 * Original file: /npm/blueimp-load-image@5.16.0/js/load-image-orientation.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):t(window.loadImage)}((function(t){"use strict";var e=t.transform,a=t.requiresCanvas,A=t.requiresMetaData,r=t.transformCoordinates,i=t.getTransformedOptions;function o(e,a){var A=e&&e.orientation;return!0===A&&!t.orientation||1===A&&t.orientation||(!a||t.orientation)&&A>1&&A<9}function n(t,e){return t!==e&&(1===t&&e>1&&e<9||t>1&&t<9)}function s(t,e){if(e>1&&e<9)switch(t){case 2:case 4:return e>4;case 5:case 7:return e%2==0;case 6:case 8:return 2===e||4===e||5===e||7===e}return!1}!function(t){if(t.global.document){var e=document.createElement("img");e.onload=function(){if(t.orientation=2===e.width&&3===e.height,t.orientation){var a=t.createCanvas(1,1,!0).getContext("2d");a.drawImage(e,1,1,1,1,0,0,1,1),t.orientationCropBug="255,255,255,255"!==a.getImageData(0,0,1,1).data.toString()}},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k="}}(t),t.requiresCanvas=function(e){return o(e)||a.call(t,e)},t.requiresMetaData=function(e){return o(e,!0)||A.call(t,e)},t.transform=function(a,A,r,i,o){e.call(t,a,A,(function(e,a){if(a){var A=t.orientation&&a.exif&&a.exif.get("Orientation");if(A>4&&A<9){var i=a.originalWidth,o=a.originalHeight;a.originalWidth=o,a.originalHeight=i}}r(e,a)}),i,o)},t.getTransformedOptions=function(e,a,A){var r=i.call(t,e,a),o=A.exif&&A.exif.get("Orientation"),c=r.orientation,l=t.orientation&&o;if(!0===c&&(c=o),!n(c,l))return r;var f=r.top,E=r.right,h=r.bottom,g=r.left,B={};for(var Q in r)Object.prototype.hasOwnProperty.call(r,Q)&&(B[Q]=r[Q]);if(B.orientation=c,(c>4&&!(l>4)||c<5&&l>4)&&(B.maxWidth=r.maxHeight,B.maxHeight=r.maxWidth,B.minWidth=r.minHeight,B.minHeight=r.minWidth,B.sourceWidth=r.sourceHeight,B.sourceHeight=r.sourceWidth),l>1){switch(l){case 2:E=r.left,g=r.right;break;case 3:f=r.bottom,E=r.left,h=r.top,g=r.right;break;case 4:f=r.bottom,h=r.top;break;case 5:f=r.left,E=r.bottom,h=r.right,g=r.top;break;case 6:f=r.left,E=r.top,h=r.right,g=r.bottom;break;case 7:f=r.right,E=r.top,h=r.left,g=r.bottom;break;case 8:f=r.right,E=r.bottom,h=r.left,g=r.top}if(s(c,l)){var m=f,b=E;f=h,E=g,h=m,g=b}}switch(B.top=f,B.right=E,B.bottom=h,B.left=g,c){case 2:B.right=g,B.left=E;break;case 3:B.top=h,B.right=g,B.bottom=f,B.left=E;break;case 4:B.top=h,B.bottom=f;break;case 5:B.top=g,B.right=h,B.bottom=E,B.left=f;break;case 6:B.top=E,B.right=h,B.bottom=g,B.left=f;break;case 7:B.top=E,B.right=f,B.bottom=g,B.left=h;break;case 8:B.top=g,B.right=f,B.bottom=E,B.left=h}return B},t.transformCoordinates=function(e,a,A){r.call(t,e,a,A);var i=a.orientation,o=t.orientation&&A.exif&&A.exif.get("Orientation");if(n(i,o)){var c=e.getContext("2d"),l=e.width,f=e.height,E=l,h=f;switch((i>4&&!(o>4)||i<5&&o>4)&&(e.width=f,e.height=l),i>4&&(E=f,h=l),o){case 2:c.translate(E,0),c.scale(-1,1);break;case 3:c.translate(E,h),c.rotate(Math.PI);break;case 4:c.translate(0,h),c.scale(1,-1);break;case 5:c.rotate(-.5*Math.PI),c.scale(-1,1);break;case 6:c.rotate(-.5*Math.PI),c.translate(-E,0);break;case 7:c.rotate(-.5*Math.PI),c.translate(-E,h),c.scale(1,-1);break;case 8:c.rotate(.5*Math.PI),c.translate(0,-h)}switch(s(i,o)&&(c.translate(E,h),c.rotate(Math.PI)),i){case 2:c.translate(l,0),c.scale(-1,1);break;case 3:c.translate(l,f),c.rotate(Math.PI);break;case 4:c.translate(0,f),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-f);break;case 7:c.rotate(.5*Math.PI),c.translate(l,-f),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-l,0)}}}}));
//# sourceMappingURL=/sm/45bd19a4363f7fee42acad5bdf19d7beb59ec23107e16f728fdd69e739d9d320.map