/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/blueimp-load-image@5.16.0/js/load-image-meta.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}((function(e){"use strict";var a=e.global,t=e.transform,r=a.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),i=a.ArrayBuffer&&ArrayBuffer.prototype.slice||function(e,a){a=a||this.byteLength-e;var t=new Uint8Array(this,e,a),r=new Uint8Array(a);return r.set(t),r.buffer},n={jpeg:{65505:[],65517:[]}};function o(t,o,l,f){var s=this;function u(o,u){if(!(a.DataView&&r&&t&&t.size>=12&&"image/jpeg"===t.type))return o(f);var c=l.maxMetaDataSize||262144;e.readFile(r.call(t,0,c),(function(e){var a=new DataView(e);if(65496!==a.getUint16(0))return u(new Error("Invalid JPEG file: Missing JPEG marker."));for(var t,r,c,g,d=2,m=a.byteLength-4,p=d;d<m&&((t=a.getUint16(d))>=65504&&t<=65519||65534===t);){if(d+(r=a.getUint16(d+2)+2)>a.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if((c=n.jpeg[t])&&!l.disableMetaDataParsers)for(g=0;g<c.length;g+=1)c[g].call(s,a,d,r,f,l);p=d+=r}!l.disableImageHead&&p>6&&(f.imageHead=i.call(e,0,p)),o(f)}),u,"readAsArrayBuffer")||o(f)}return l=l||{},a.Promise&&"function"!=typeof o?(f=l=o||{},new Promise(u)):(f=f||{},u(o,o))}function l(e,a,t){return e&&a&&t?new Blob([t,r.call(e,a.byteLength)],{type:"image/jpeg"}):null}e.transform=function(r,i,n,l,f){e.requiresMetaData(i)?o(l,(function(o){o!==f&&(a.console&&console.log(o),o=f),t.call(e,r,i,n,l,o)}),i,f=f||{}):t.apply(e,arguments)},e.blobSlice=r,e.bufferSlice=i,e.replaceHead=function(e,t,r){var i={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!r&&a.Promise)return o(e,i).then((function(a){return l(e,a.imageHead,t)}));o(e,(function(a){r(l(e,a.imageHead,t))}),i)},e.parseMetaData=o,e.metaDataParsers=n}));
//# sourceMappingURL=/sm/9778b0e92fccea48ab22ba05631049619ad7b02a979e4b38b4b00e45cb4310a8.map