/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/@fancyapps/ui@4.0.27/src/shared/Base/Base.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{extend}from"../utils/extend.js";import{resolve}from"../utils/resolve.js";import{isPlainObject}from"../utils/isPlainObject.js";export class Base{constructor(t={}){this.options=extend(!0,{},t),this.plugins=[],this.events={};for(const t of["on","once"])for(const s of Object.entries(this.options[t]||{}))this[t](...s)}option(t,s,...i){t=String(t);let e=resolve(t,this.options);return"function"==typeof e&&(e=e.call(this,this,...i)),void 0===e?s:e}localize(t,s=[]){return t=(t=String(t).replace(/\{\{(\w+).?(\w+)?\}\}/g,((t,i,e)=>{let n="";e?n=this.option(`${i[0]+i.toLowerCase().substring(1)}.l10n.${e}`):i&&(n=this.option(`l10n.${i}`)),n||(n=t);for(let t=0;t<s.length;t++)n=n.split(s[t][0]).join(s[t][1]);return n}))).replace(/\{\{(.*)\}\}/,((t,s)=>s))}on(t,s){if(isPlainObject(t)){for(const s of Object.entries(t))this.on(...s);return this}return String(t).split(" ").forEach((t=>{const i=this.events[t]=this.events[t]||[];-1==i.indexOf(s)&&i.push(s)})),this}once(t,s){if(isPlainObject(t)){for(const s of Object.entries(t))this.once(...s);return this}return String(t).split(" ").forEach((t=>{const i=(...e)=>{this.off(t,i),s.call(this,this,...e)};i._=s,this.on(t,i)})),this}off(t,s){if(!isPlainObject(t))return t.split(" ").forEach((t=>{const i=this.events[t];if(!i||!i.length)return this;let e=-1;for(let t=0,n=i.length;t<n;t++){const n=i[t];if(n&&(n===s||n._===s)){e=t;break}}-1!=e&&i.splice(e,1)})),this;for(const s of Object.entries(t))this.off(...s)}trigger(t,...s){for(const i of[...this.events[t]||[]].slice())if(i&&!1===i.call(this,this,...s))return!1;for(const i of[...this.events["*"]||[]].slice())if(i&&!1===i.call(this,t,this,...s))return!1;return!0}attachPlugins(t){const s={};for(const[i,e]of Object.entries(t||{}))!1===this.options[i]||this.plugins[i]||(this.options[i]=extend({},e.defaults||{},this.options[i]),s[i]=new e(this));for(const[t,i]of Object.entries(s))i.attach(this);return this.plugins=Object.assign({},this.plugins,s),this}detachPlugins(){for(const t in this.plugins){let s;(s=this.plugins[t])&&"function"==typeof s.detach&&s.detach(this)}return this.plugins={},this}}
//# sourceMappingURL=/sm/c02e00851b872a2421178dabcd6d33e6d644dd847db6ad4e2ae2ea759035ac19.map