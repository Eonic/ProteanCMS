/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/swiper@8.1.6/core/events/onTouchEnd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{now,nextTick}from"../../shared/utils.js";export default function onTouchEnd(e){const i=this,t=i.touchEventsData,{params:o,touches:s,rtlTranslate:l,slidesGrid:r,enabled:n}=i;if(!n)return;let a=e;if(a.originalEvent&&(a=a.originalEvent),t.allowTouchCallbacks&&i.emit("touchEnd",a),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&o.grabCursor&&i.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);o.grabCursor&&t.isMoved&&t.isTouched&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!1);const d=now(),u=d-t.touchStartTime;if(i.allowClick){const e=a.path||a.composedPath&&a.composedPath();i.updateClickedSlide(e&&e[0]||a.target),i.emit("tap click",a),u<300&&d-t.lastClickTime<300&&i.emit("doubleTap doubleClick",a)}if(t.lastClickTime=now(),nextTick((()=>{i.destroyed||(i.allowClick=!0)})),!t.isTouched||!t.isMoved||!i.swipeDirection||0===s.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let c;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,c=o.followFinger?l?i.translate:-i.translate:-t.currentTranslate,o.cssMode)return;if(i.params.freeMode&&o.freeMode.enabled)return void i.freeMode.onTouchEnd({currentPos:c});let p=0,v=i.slidesSizesGrid[0];for(let e=0;e<r.length;e+=e<o.slidesPerGroupSkip?1:o.slidesPerGroup){const i=e<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==r[e+i]?c>=r[e]&&c<r[e+i]&&(p=e,v=r[e+i]-r[e]):c>=r[e]&&(p=e,v=r[r.length-1]-r[r.length-2])}let T=null,g=null;o.rewind&&(i.isBeginning?g=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:i.isEnd&&(T=0));const h=(c-r[p])/v,w=p<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(u>o.longSwipesMs){if(!o.longSwipes)return void i.slideTo(i.activeIndex);"next"===i.swipeDirection&&(h>=o.longSwipesRatio?i.slideTo(o.rewind&&i.isEnd?T:p+w):i.slideTo(p)),"prev"===i.swipeDirection&&(h>1-o.longSwipesRatio?i.slideTo(p+w):null!==g&&h<0&&Math.abs(h)>o.longSwipesRatio?i.slideTo(g):i.slideTo(p))}else{if(!o.shortSwipes)return void i.slideTo(i.activeIndex);i.navigation&&(a.target===i.navigation.nextEl||a.target===i.navigation.prevEl)?a.target===i.navigation.nextEl?i.slideTo(p+w):i.slideTo(p):("next"===i.swipeDirection&&i.slideTo(null!==T?T:p+w),"prev"===i.swipeDirection&&i.slideTo(null!==g?g:p))}}
//# sourceMappingURL=/sm/b0b75fbfb847b38354846ee03abff0b43a6010267b268688aad605fa08014428.map