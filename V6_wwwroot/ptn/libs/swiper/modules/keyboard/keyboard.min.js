/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/swiper@8.1.6/modules/keyboard/keyboard.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{getWindow,getDocument}from"ssr-window";import $ from"../../shared/dom.js";export default function Keyboard(e){let{swiper:t,extendParams:n,on:a,emit:o}=e;const r=getDocument(),l=getWindow();function i(e){if(!t.enabled)return;const{rtlTranslate:n}=t;let a=e;a.originalEvent&&(a=a.originalEvent);const i=a.keyCode||a.charCode,d=t.params.keyboard.pageUpDown,s=d&&33===i,f=d&&34===i,c=37===i,p=39===i,b=38===i,y=40===i;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&y||f))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&c||t.isVertical()&&b||s))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(s||f||c||p||b||y)){let e=!1;if(t.$el.parents(`.${t.params.slideClass}`).length>0&&0===t.$el.parents(`.${t.params.slideActiveClass}`).length)return;const a=t.$el,o=a[0].clientWidth,r=a[0].clientHeight,i=l.innerWidth,d=l.innerHeight,s=t.$el.offset();n&&(s.left-=t.$el[0].scrollLeft);const f=[[s.left,s.top],[s.left+o,s.top],[s.left,s.top+r],[s.left+o,s.top+r]];for(let t=0;t<f.length;t+=1){const n=f[t];if(n[0]>=0&&n[0]<=i&&n[1]>=0&&n[1]<=d){if(0===n[0]&&0===n[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((s||f||c||p)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((f||p)&&!n||(s||c)&&n)&&t.slideNext(),((s||c)&&!n||(f||p)&&n)&&t.slidePrev()):((s||f||b||y)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(f||y)&&t.slideNext(),(s||b)&&t.slidePrev()),o("keyPress",i)}}function d(){t.keyboard.enabled||($(r).on("keydown",i),t.keyboard.enabled=!0)}function s(){t.keyboard.enabled&&($(r).off("keydown",i),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},n({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),a("init",(()=>{t.params.keyboard.enabled&&d()})),a("destroy",(()=>{t.keyboard.enabled&&s()})),Object.assign(t.keyboard,{enable:d,disable:s})}
//# sourceMappingURL=/sm/306221193721266426e2e52e0cc61507f6866763f8dfa84e77650b654ff0c3e0.map