/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/swiper@8.1.6/modules/autoplay/autoplay.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{getDocument}from"ssr-window";import{nextTick}from"../../shared/utils.js";export default function Autoplay(a){let e,{swiper:t,extendParams:n,on:o,emit:i}=a;function s(){const a=t.slides.eq(t.activeIndex);let n=t.params.autoplay.delay;a.attr("data-swiper-autoplay")&&(n=a.attr("data-swiper-autoplay")||t.params.autoplay.delay);const o=()=>{let a;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),a=t.slidePrev(t.params.speed,!0,!0),i("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?r():(a=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),i("autoplay")):(a=t.slidePrev(t.params.speed,!0,!0),i("autoplay")):t.params.loop?(t.loopFix(),a=t.slideNext(t.params.speed,!0,!0),i("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?r():(a=t.slideTo(0,t.params.speed,!0,!0),i("autoplay")):(a=t.slideNext(t.params.speed,!0,!0),i("autoplay")),(t.params.cssMode&&t.autoplay.running||!1===a)&&s()};clearTimeout(e),0!==n?e=nextTick((()=>{o()}),n):o()}function p(){return void 0===e&&(!t.autoplay.running&&(t.autoplay.running=!0,i("autoplayStart"),s(),!0))}function r(){return!!t.autoplay.running&&(void 0!==e&&(e&&(clearTimeout(e),e=void 0),t.autoplay.running=!1,i("autoplayStop"),!0))}function u(a){t.autoplay.running&&(t.autoplay.paused||(e&&clearTimeout(e),t.autoplay.paused=!0,0!==a&&t.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((a=>{t.$wrapperEl[0].addEventListener(a,d)})):(t.autoplay.paused=!1,s())))}function l(){const a=getDocument();"hidden"===a.visibilityState&&t.autoplay.running&&u(),"visible"===a.visibilityState&&t.autoplay.paused&&(s(),t.autoplay.paused=!1)}function d(a){t&&!t.destroyed&&t.$wrapperEl&&a.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((a=>{t.$wrapperEl[0].removeEventListener(a,d)})),t.autoplay.paused=!1,t.autoplay.running?s():r())}function y(){t.params.autoplay.disableOnInteraction?r():(i("autoplayPause"),u()),["transitionend","webkitTransitionEnd"].forEach((a=>{t.$wrapperEl[0].removeEventListener(a,d)}))}function m(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,i("autoplayResume"),s())}t.autoplay={running:!1,paused:!1},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),o("init",(()=>{if(t.params.autoplay.enabled){p();getDocument().addEventListener("visibilitychange",l),t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",y),t.$el.on("mouseleave",m))}})),o("beforeTransitionStart",((a,e,n)=>{t.autoplay.running&&(n||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(e):r())})),o("sliderFirstMove",(()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?r():u())})),o("touchEnd",(()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&s()})),o("destroy",(()=>{t.$el.off("mouseenter",y),t.$el.off("mouseleave",m),t.autoplay.running&&r();getDocument().removeEventListener("visibilitychange",l)})),Object.assign(t.autoplay,{pause:u,run:s,start:p,stop:r})}
//# sourceMappingURL=/sm/87fd448b14b74b7e77c56a270675e3f582700aec98af426352c91e7c87dea927.map