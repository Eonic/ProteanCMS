/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/blueimp-file-upload@10.32.0/js/jquery.fileupload-image.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-scale","load-image-exif","load-image-orientation","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("blueimp-load-image/js/load-image"),require("blueimp-load-image/js/load-image-meta"),require("blueimp-load-image/js/load-image-scale"),require("blueimp-load-image/js/load-image-exif"),require("blueimp-load-image/js/load-image-orientation"),require("blueimp-canvas-to-blob"),require("./jquery.fileupload-process")):e(window.jQuery,window.loadImage)}((function(e,i){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",maxMetaDataSize:"@",disableImageHead:"@",disableMetaDataParsers:"@",disableExif:"@",disableExifOffsets:"@",includeExifTags:"@",excludeExifTags:"@",disableIptc:"@",disableIptcOffsets:"@",includeIptcTags:"@",excludeIptcTags:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize",imageSmoothingQuality:"@imageSmoothingQuality"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!0,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(a,t){if(t.disabled)return a;var n=this,r=a.files[a.index],s=e.Deferred();return"number"===e.type(t.maxFileSize)&&r.size>t.maxFileSize||t.fileTypes&&!t.fileTypes.test(r.type)||!i(r,(function(e){e.src&&(a.img=e),s.resolveWith(n,[a])}),t)?a:s.promise()},resizeImage:function(a,t){if(t.disabled||!a.canvas&&!a.img)return a;t=e.extend({canvas:!0},t);var n,r,s=this,o=e.Deferred(),l=t.canvas&&a.canvas||a.img,d=function(e){e&&(e.width!==l.width||e.height!==l.height||t.forceResize)&&(a[e.getContext?"canvas":"img"]=e),a.preview=e,o.resolveWith(s,[a])};return a.exif&&t.thumbnail&&(r=(n=a.exif.get("Thumbnail"))&&n.get("Blob"))?(t.orientation=a.exif.get("Orientation"),i(r,d,t),o.promise()):(a.orientation?delete t.orientation:a.orientation=t.orientation||i.orientation,l?(d(i.scale(l,t,a)),o.promise()):a)},saveImage:function(i,a){if(!i.canvas||a.disabled)return i;var t=this,n=i.files[i.index],r=e.Deferred();return i.canvas.toBlob?(i.canvas.toBlob((function(e){e.name||(n.type===e.type?e.name=n.name:n.name&&(e.name=n.name.replace(/\.\w+$/,"."+e.type.substr(6)))),n.type!==e.type&&delete i.imageHead,i.files[i.index]=e,r.resolveWith(t,[i])}),a.type||n.type,a.quality),r.promise()):i},loadImageMetaData:function(a,t){if(t.disabled)return a;var n=this,r=e.Deferred();return i.parseMetaData(a.files[a.index],(function(i){e.extend(a,i),r.resolveWith(n,[a])}),t),r.promise()},saveImageMetaData:function(a,t){if(!(a.imageHead&&a.canvas&&a.canvas.toBlob)||t.disabled)return a;var n=this,r=a.files[a.index],s=e.Deferred();return!0===a.orientation&&a.exifOffsets&&i.writeExifData(a.imageHead,a,"Orientation",1),i.replaceHead(r,a.imageHead,(function(e){e.name=r.name,a.files[a.index]=e,s.resolveWith(n,[a])})),s.promise()},setImage:function(e,i){return e.preview&&!i.disabled&&(e.files[e.index][i.name||"preview"]=e.preview),e},deleteImageReferences:function(e,i){return i.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}));
//# sourceMappingURL=/sm/630978fe24e7621e2c7824cbfcee47a4a84f008025924a93148f87bc75c2fded.map