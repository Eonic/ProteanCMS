/**
 * Minified by jsDelivr using Terser v5.13.1.
 * Original file: /npm/xml-beautify@1.2.3/src/XmlBeautify.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const ELEMENT_NODE=1,ATTRIBUTE_NODE=2,TEXT_NODE=3,CDATA_SECTION_NODE=4,PROCESSING_INSTRUCTION_NODE=7,COMMENT_NODE=8,DOCUMENT_NODE=9,DOCUMENT_TYPE_NODE=10,DOCUMENT_FRAGMENT_NODE=11;export default class XmlBeautify{constructor(e){const t=e||{};this.userExternalParser=!1,t.parser?(this.userExternalParser=!0,this.parser=new t.parser):this.parser=new DOMParser}hasXmlDef(e){return e.indexOf("<?xml")>=0}getEncoding(e){if(!this.hasXmlDef(e))return null;const t=e.toLowerCase().indexOf('encoding="')+'encoding="'.length,n=e.indexOf('"?>');return e.substr(t,n-t)}_children(e){const t=[],n=e.childNodes.length;for(let l=0;l<n;l++)1===e.childNodes[l].nodeType&&t.push(e.childNodes[l]);return t}beautify(e,t){const n=this,l=n.parser.parseFromString(e,"text/xml");let r="  ";let s=!1;t&&(t.indent&&(r=t.indent),1==t.useSelfClosingElement&&(s=t.useSelfClosingElement));let i=null;if(n.hasXmlDef(e)){i='<?xml version="1.0" encoding="'+n.getEncoding(e)+'"?>'}const a={indentText:r,xmlText:"",useSelfClosingElement:s,indentLevel:0};n.userExternalParser?n._parseInternally(this._children(l)[0],a):n._parseInternally(l.children[0],a);let d="";return i&&(d+=i+"\n"),d+=a.xmlText,d}_parseInternally(e,t){const n=this;let l=e.textContent;let r;0==l.replace(/ /g,"").replace(/\r?\n/g,"").replace(/\n/g,"").replace(/\t/g,"").length&&(l=""),r=n.userExternalParser?!(n._children(e).length>0):!(e.children.length>0);const s=l&&l.length>0,i=r&&s,a=r&&!s,d=t.useSelfClosingElement;let o="";if(i){const{hasCDATAChild:t,content:r}=n._getFirstCDATAChild(e);o+=t?r:l}let c,h="";for(let e=0;e<t.indentLevel;e++)h+=t.indentText;t.xmlText+=h,t.xmlText+="<"+e.tagName;for(let n=0;n<e.attributes.length;n++){const l=e.attributes[n];t.xmlText+=" "+l.name+'="'+l.textContent+'"'}t.xmlText+=a&&d?" />":">",i?t.xmlText+=o:a&&!d||(t.xmlText+="\n"),t.indentLevel++,c=n.userExternalParser?n._children(e).length:e.children.length;for(let l=0;l<c;l++){let r;r=n.userExternalParser?n._children(e)[l]:e.children[l],n._parseInternally(r,t)}if(t.indentLevel--,a)if(d);else{const n="</"+e.tagName+">";t.xmlText+=n,t.xmlText+="\n"}else{const n="</"+e.tagName+">";r&&s||(t.xmlText+=h),t.xmlText+=n,t.xmlText+="\n"}}_getFirstCDATAChild(e){const t=e.childNodes.length;let n="",l=!1;for(let r=0;r<t;r++)if(3===e.childNodes[r].nodeType){e.childNodes[r].data.replace(/ /g,"").replace(/\r?\n/g,"").replace(/\n/g,"").replace(/\t/g,"").length>0&&(n+=e.childNodes[r].data)}else if(4===e.childNodes[r].nodeType){n+="<![CDATA[",n+=e.childNodes[r].data,n+="]]>",l=!0}return l?{hasCDATAChild:!0,content:n}:{hasCDATAChild:!1}}}
//# sourceMappingURL=/sm/5ea705b224c7049078061ea86f764a50ec09ede109d57a502379a6a32324abc7.map