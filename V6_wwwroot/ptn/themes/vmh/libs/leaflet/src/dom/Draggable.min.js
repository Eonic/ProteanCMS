/**
 * Minified by jsDelivr using Terser v5.17.1.
 * Original file: /npm/leaflet@1.9.4/src/dom/Draggable.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Evented}from"../core/Events";import Browser from"../core/Browser";import*as DomEvent from"./DomEvent";import*as DomUtil from"./DomUtil";import*as Util from"../core/Util";import{Point}from"../geometry/Point";var START=Browser.touch?"touchstart mousedown":"mousedown";export var Draggable=Evented.extend({options:{clickTolerance:3},initialize:function(t,e,i,o){Util.setOptions(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(DomEvent.on(this._dragStartTarget,START,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Draggable._dragging===this&&this.finishDrag(!0),DomEvent.off(this._dragStartTarget,START,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!DomUtil.hasClass(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)Draggable._dragging===this&&this.finishDrag();else if(!(Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Draggable._dragging=this,this._preventOutline&&DomUtil.preventOutline(this._element),DomUtil.disableImageDrag(),DomUtil.disableTextSelection(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,i=DomUtil.getSizedParentNode(this._element);this._startPoint=new Point(e.clientX,e.clientY),this._startPos=DomUtil.getPosition(this._element),this._parentScale=DomUtil.getScale(i);var o="mousedown"===t.type;DomEvent.on(document,o?"mousemove":"touchmove",this._onMove,this),DomEvent.on(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new Point(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,DomUtil.addClass(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){DomUtil.removeClass(document.body,"leaflet-dragging"),this._lastTarget&&(DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),DomEvent.off(document,"mousemove touchmove",this._onMove,this),DomEvent.off(document,"mouseup touchend touchcancel",this._onUp,this),DomUtil.enableImageDrag(),DomUtil.enableTextSelection();var e=this._moved&&this._moving;this._moving=!1,Draggable._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});
//# sourceMappingURL=/sm/6eee7cd556b4a8126c8348532f1f7198275fc4acbde50bc1c8ee34754c6dd2a2.map