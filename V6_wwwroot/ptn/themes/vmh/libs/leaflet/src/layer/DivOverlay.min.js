/**
 * Minified by jsDelivr using Terser v5.17.1.
 * Original file: /npm/leaflet@1.9.4/src/layer/DivOverlay.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Map}from"../map/Map";import{Layer}from"./Layer";import{FeatureGroup}from"./FeatureGroup";import*as Util from"../core/Util";import{toLatLng,LatLng}from"../geo/LatLng";import{toPoint}from"../geometry/Point";import*as DomUtil from"../dom/DomUtil";export var DivOverlay=Layer.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof LatLng||Util.isArray(t))?(this._latlng=toLatLng(t),Util.setOptions(this,i)):(Util.setOptions(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&DomUtil.setOpacity(this._container,1),this.bringToFront(),this.options.interactive&&(DomUtil.addClass(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(Util.bind(DomUtil.remove,void 0,this._container),200)):DomUtil.remove(this._container),this.options.interactive&&(DomUtil.removeClass(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=toLatLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&DomUtil.toBack(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof FeatureGroup){i=null;var n=this._source._layers;for(var e in n)if(n[e]._map){i=n[e];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else{if(!i.getBounds)throw new Error("Unable to get source layer LatLng.");t=i.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof i)t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=toPoint(this.options.offset),n=this._getAnchor();this._zoomAnimated?DomUtil.setPosition(this._container,t.add(n)):i=i.add(t).add(n);var e=this._containerBottom=-i.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=e+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});Map.include({_initOverlay:function(t,i,n,e){var o=i;return o instanceof t||(o=new t(e).setContent(i)),n&&o.setLatLng(n),o}}),Layer.include({_initOverlay:function(t,i,n,e){var o=n;return o instanceof t?(Util.setOptions(o,e),o._source=this):(o=i&&!e?i:new t(e,this)).setContent(n),o}});
//# sourceMappingURL=/sm/891ec6c986ab3a44ce1899a1003ba8bcecaa1af4ecf59e76985c7800eee6b89c.map