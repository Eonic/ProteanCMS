/**
 * Minified by jsDelivr using Terser v5.17.1.
 * Original file: /npm/leaflet@1.9.4/src/layer/vector/Polyline.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Path}from"./Path";import*as Util from"../../core/Util";import*as LineUtil from"../../geometry/LineUtil";import{LatLng,toLatLng}from"../../geo/LatLng";import{LatLngBounds}from"../../geo/LatLngBounds";import{Bounds}from"../../geometry/Bounds";import{Point}from"../../geometry/Point";export var Polyline=Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){Util.setOptions(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n,i,s=1/0,o=null,e=LineUtil._sqClosestPointOnSegment,r=0,a=this._parts.length;r<a;r++)for(var h=this._parts[r],l=1,u=h.length;l<u;l++){var _=e(t,n=h[l-1],i=h[l],!0);_<s&&(s=_,o=e(t,n,i))}return o&&(o.distance=Math.sqrt(s)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return LineUtil.polylineCenter(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=toLatLng(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return LineUtil.isFlat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],i=LineUtil.isFlat(t),s=0,o=t.length;s<o;s++)i?(n[s]=toLatLng(t[s]),this._bounds.extend(n[s])):n[s]=this._convertLatLngs(t[s]);return n},_project:function(){var t=new Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new Point(t,t);this._rawPxBounds&&(this._pxBounds=new Bounds([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,i){var s,o,e=t[0]instanceof LatLng,r=t.length;if(e){for(o=[],s=0;s<r;s++)o[s]=this._map.latLngToLayerPoint(t[s]),i.extend(o[s]);n.push(o)}else for(s=0;s<r;s++)this._projectLatlngs(t[s],n,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var n,i,s,o,e,r,a,h=this._parts;for(n=0,s=0,o=this._rings.length;n<o;n++)for(i=0,e=(a=this._rings[n]).length;i<e-1;i++)(r=LineUtil.clipSegment(a[i],a[i+1],t,i,!0))&&(h[s]=h[s]||[],h[s].push(r[0]),r[1]===a[i+1]&&i!==e-2||(h[s].push(r[1]),s++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,i=0,s=t.length;i<s;i++)t[i]=LineUtil.simplify(t[i],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var i,s,o,e,r,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,e=this._parts.length;i<e;i++)for(s=0,o=(r=(a=this._parts[i]).length)-1;s<r;o=s++)if((n||0!==s)&&LineUtil.pointToSegmentDistance(t,a[o],a[s])<=h)return!0;return!1}});export function polyline(t,n){return new Polyline(t,n)}Polyline._flat=LineUtil._flat;
//# sourceMappingURL=/sm/c21c97ab971030f0a27c134a426112cdaefa4341ae769f75786836de2b41a78d.map